<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Пости</title>
    <link rel="stylesheet" href="css/site.css">
</head>
<body>
    <h1>Пости</h1>
    <button id="btnShowAdd">+ Додати пост</button>

    <!-- Add Post Form -->
    <div id="addForm" class="hidden form-container">
        <h2>Додати новий пост</h2>
        <form id="add-form" onsubmit="event.preventDefault(); addPost();">
            <div class="form-row">
                <label for="add-author">Автор</label>
                <select id="add-author" required></select>
            </div>
            <div class="form-row">
                <label for="add-text">Текст поста</label>
                <textarea id="add-text" required minlength="1"></textarea>
            </div>
            <div class="form-row">
                <label for="add-datetime">Дата й час</label>
                <input type="datetime-local" id="add-datetime" required>
            </div>
            <div class="form-row">
                <label>Теги</label>
                <div id="add-tags-container" class="checkbox-list"></div>
            </div>
            <div class="form-row actions">
                <button type="submit">Зберегти</button>
                <button type="button" onclick="hideAddForm()">Скасувати</button>
            </div>
        </form>
    </div>

    <!-- Edit Post Form -->
    <div id="editForm" class="hidden form-container">
        <h2>Редагувати пост</h2>
        <form id="edit-form" onsubmit="event.preventDefault(); updatePost();">
            <input type="hidden" id="edit-id">
            <div class="form-row">
                <label for="edit-author">Автор</label>
                <select id="edit-author" required></select>
            </div>
            <div class="form-row">
                <label for="edit-text">Текст поста</label>
                <textarea id="edit-text" required minlength="1"></textarea>
            </div>
            <div class="form-row">
                <label for="edit-datetime">Дата й час</label>
                <input type="datetime-local" id="edit-datetime" required>
            </div>
            <div class="form-row">
                <label>Теги</label>
                <div id="edit-tags-container" class="checkbox-list"></div>
            </div>
            <div class="form-row actions">
                <button type="submit">Оновити</button>
                <button type="button" onclick="closeInput()">Скасувати</button>
            </div>
        </form>
    </div>

    <table>
        <thead>
            <tr>
                <th>Автор</th>
                <th>Текст</th>
                <th>Дата й час</th>
                <th>Теги</th>
                <th>Дії</th>
            </tr>
        </thead>
        <tbody id="postsTableBody">
            <tr><td colspan="5" style="text-align:center">Завантаження постів…</td></tr>
        </tbody>
    </table>

    <script src="js/Forms.js" defer></script>
    <script src="js/Post.js" defer></script>
</body>
</html>
